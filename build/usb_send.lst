ARM GAS  /tmp/ccFppyyP.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usb_send.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Drivers/usb_send/usb_send.c"
  18              		.section	.text.usb_send_task,"ax",%progbits
  19              		.align	1
  20              		.global	usb_send_task
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	usb_send_task:
  26              	.LFB74:
   1:Drivers/usb_send/usb_send.c **** #include "usb_send.h"
   2:Drivers/usb_send/usb_send.c **** #include "FreeRTOS.h"
   3:Drivers/usb_send/usb_send.c **** #include "keys_config.h"
   4:Drivers/usb_send/usb_send.c **** #include "projdefs.h"
   5:Drivers/usb_send/usb_send.c **** #include "ssd1306.h"
   6:Drivers/usb_send/usb_send.c **** #include "task.h"
   7:Drivers/usb_send/usb_send.c **** #include "usbd_hid.h"
   8:Drivers/usb_send/usb_send.c **** #include <stdint.h>
   9:Drivers/usb_send/usb_send.c **** 
  10:Drivers/usb_send/usb_send.c **** /* extern QueueHandle_t usb_send_queue; */
  11:Drivers/usb_send/usb_send.c **** int isFunctionPressed = 0;
  12:Drivers/usb_send/usb_send.c **** extern USBD_HandleTypeDef hUsbDeviceFS;
  13:Drivers/usb_send/usb_send.c **** 
  14:Drivers/usb_send/usb_send.c **** const uint8_t keyboard_keys_left[5][6] = {
  15:Drivers/usb_send/usb_send.c ****     KL_C0_L0, KL_C1_L0, KL_C2_L0, KL_C3_L0, KL_C4_L0, KL_C5_L0, KL_C0_L1,
  16:Drivers/usb_send/usb_send.c ****     KL_C1_L1, KL_C2_L1, KL_C3_L1, KL_C4_L1, KL_C5_L1, KL_C0_L2, KL_C1_L2,
  17:Drivers/usb_send/usb_send.c ****     KL_C2_L2, KL_C3_L2, KL_C4_L2, KL_C5_L2, KL_C0_L3, KL_C1_L3, KL_C2_L3,
  18:Drivers/usb_send/usb_send.c ****     KL_C3_L3, KL_C4_L3, KL_C5_L3, KL_C0_L4, KL_C1_L4, KL_C2_L4, KL_C3_L4,
  19:Drivers/usb_send/usb_send.c ****     KL_C4_L4, KL_C5_L4
  20:Drivers/usb_send/usb_send.c ****     /* KL_C0_L2, KL_C1_L2, KL_C2_L2, KL_C3_L2, KL_C4_L2, KL_C5_L2, */
  21:Drivers/usb_send/usb_send.c **** };
  22:Drivers/usb_send/usb_send.c **** 
  23:Drivers/usb_send/usb_send.c **** const uint8_t keyboard_keys_right[5][6] = {
  24:Drivers/usb_send/usb_send.c ****     KR_C0_L0, KR_C1_L0, KR_C2_L0, KR_C3_L0, KR_C4_L0, KR_C5_L0, KR_C0_L1,
  25:Drivers/usb_send/usb_send.c ****     KR_C1_L1, KR_C2_L1, KR_C3_L1, KR_C4_L1, KR_C5_L1, KR_C0_L2, KR_C1_L2,
  26:Drivers/usb_send/usb_send.c ****     KR_C2_L2, KR_C3_L2, KR_C4_L2, KR_C5_L2, KR_C0_L3, KR_C1_L3, KR_C2_L3,
  27:Drivers/usb_send/usb_send.c ****     KR_C3_L3, KR_C4_L3, KR_C5_L3, KR_C0_L4, KR_C1_L4, KR_C2_L4, KR_C3_L4,
  28:Drivers/usb_send/usb_send.c ****     KR_C4_L4, KR_C5_L4
  29:Drivers/usb_send/usb_send.c ****     /* KL_C0_L2, KL_C1_L2, KL_C2_L2, KL_C3_L2, KL_C4_L2, KL_C5_L2, */
  30:Drivers/usb_send/usb_send.c **** };
  31:Drivers/usb_send/usb_send.c **** 
  32:Drivers/usb_send/usb_send.c **** const uint8_t keyboard_keys_left_spc[5][6] = {
ARM GAS  /tmp/ccFppyyP.s 			page 2


  33:Drivers/usb_send/usb_send.c ****     KL_C0_L0_SPC, KL_C1_L0_SPC, KL_C2_L0_SPC, KL_C3_L0_SPC,
  34:Drivers/usb_send/usb_send.c ****     KL_C4_L0_SPC, KL_C5_L0_SPC, KL_C0_L1_SPC, KL_C1_L1_SPC,
  35:Drivers/usb_send/usb_send.c ****     KL_C2_L1_SPC, KL_C3_L1_SPC, KL_C4_L1_SPC, KL_C5_L1_SPC,
  36:Drivers/usb_send/usb_send.c ****     KL_C0_L2_SPC, KL_C1_L2_SPC, KL_C2_L2_SPC, KL_C3_L2_SPC,
  37:Drivers/usb_send/usb_send.c ****     KL_C4_L2_SPC, KL_C5_L2_SPC, KL_C0_L3_SPC, KL_C1_L3_SPC,
  38:Drivers/usb_send/usb_send.c ****     KL_C2_L3_SPC, KL_C3_L3_SPC, KL_C4_L3_SPC, KL_C5_L3_SPC,
  39:Drivers/usb_send/usb_send.c ****     KL_C0_L4_SPC, KL_C1_L4_SPC, KL_C2_L4_SPC, KL_C3_L4_SPC,
  40:Drivers/usb_send/usb_send.c ****     KL_C4_L4_SPC, KL_C5_L4_SPC
  41:Drivers/usb_send/usb_send.c ****     /* KL_C0_L2, KL_C1_L2, KL_C2_L2, KL_C3_L2, KL_C4_L2, KL_C5_L2, */
  42:Drivers/usb_send/usb_send.c **** };
  43:Drivers/usb_send/usb_send.c **** 
  44:Drivers/usb_send/usb_send.c **** const uint8_t keyboard_keys_right_spc[5][6] = {
  45:Drivers/usb_send/usb_send.c ****     KR_C0_L0_SPC, KR_C1_L0_SPC, KR_C2_L0_SPC, KR_C3_L0_SPC, KR_C4_L0_SPC,
  46:Drivers/usb_send/usb_send.c ****     KR_C5_L0_SPC, KR_C0_L1_SPC, KR_C1_L1_SPC, KR_C2_L1_SPC, KR_C3_L1_SPC,
  47:Drivers/usb_send/usb_send.c ****     KR_C4_L1_SPC, KR_C5_L1_SPC, KR_C0_L2_SPC, KR_C1_L2_SPC, KR_C2_L2_SPC,
  48:Drivers/usb_send/usb_send.c ****     KR_C3_L2_SPC, KR_C4_L2_SPC, KR_C5_L2_SPC, KR_C0_L3_SPC, KR_C1_L3_SPC,
  49:Drivers/usb_send/usb_send.c ****     KR_C2_L3_SPC, KR_C3_L3_SPC, KR_C4_L3_SPC, KR_C5_L3_SPC, KR_C0_L4_SPC,
  50:Drivers/usb_send/usb_send.c ****     KR_C1_L4_SPC, KR_C2_L4_SPC, KR_C3_L4_SPC, KR_C4_L4_SPC, KR_C5_L4_SPC};
  51:Drivers/usb_send/usb_send.c **** 
  52:Drivers/usb_send/usb_send.c **** char test_keys[7] = {'0', '1', '2', '3', '4', '5', '6'};
  53:Drivers/usb_send/usb_send.c **** /**
  54:Drivers/usb_send/usb_send.c ****  * @breif - will write in the oled display the oring of the press
  55:Drivers/usb_send/usb_send.c ****  * @parms - keyboard - the side of the keyboard
  56:Drivers/usb_send/usb_send.c ****  * @parms - column - the column of the button
  57:Drivers/usb_send/usb_send.c ****  * @parms - row - the row of the button
  58:Drivers/usb_send/usb_send.c ****  * */
  59:Drivers/usb_send/usb_send.c **** void usb_sender_test(char keyboardSide, uint8_t column, uint8_t row) {
  60:Drivers/usb_send/usb_send.c ****   const char test_chars[6] = {'0', '1', '2', '3', '4', '5'};
  61:Drivers/usb_send/usb_send.c **** 
  62:Drivers/usb_send/usb_send.c ****   ssd1306_Fill(Black);
  63:Drivers/usb_send/usb_send.c ****   ssd1306_SetCursor(0, 0);
  64:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString("K-", Font_7x10, White);
  65:Drivers/usb_send/usb_send.c ****   ssd1306_WriteChar(keyboardSide, Font_7x10, White);
  66:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString(" Row-", Font_7x10, White);
  67:Drivers/usb_send/usb_send.c ****   ssd1306_WriteChar(test_chars[row], Font_7x10, White);
  68:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString(" Col-", Font_7x10, White);
  69:Drivers/usb_send/usb_send.c ****   ssd1306_WriteChar(test_chars[column], Font_7x10, White);
  70:Drivers/usb_send/usb_send.c ****   ssd1306_UpdateScreen();
  71:Drivers/usb_send/usb_send.c **** 
  72:Drivers/usb_send/usb_send.c ****   vTaskDelay(400 / portTICK_PERIOD_MS);
  73:Drivers/usb_send/usb_send.c ****   ssd1306_Fill(Black);
  74:Drivers/usb_send/usb_send.c ****   ssd1306_UpdateScreen();
  75:Drivers/usb_send/usb_send.c **** }
  76:Drivers/usb_send/usb_send.c **** 
  77:Drivers/usb_send/usb_send.c **** // This will that a command then saves it into a buffer
  78:Drivers/usb_send/usb_send.c **** void usb_send(char keyboarSide, uint8_t column, uint8_t row) {
  79:Drivers/usb_send/usb_send.c ****   /* usb_sender_test(keyboarSide, test_keys[column], test_keys[row]); */
  80:Drivers/usb_send/usb_send.c ****   extern keyboard_command_t keyboar_commands;
  81:Drivers/usb_send/usb_send.c ****   uint8_t key = 0;
  82:Drivers/usb_send/usb_send.c ****   // usb_sender_test(keyboarSide, column, row);
  83:Drivers/usb_send/usb_send.c ****   if (keyboarSide == 'l') {
  84:Drivers/usb_send/usb_send.c ****     if (isFunctionPressed == 0)
  85:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_left[column][row];
  86:Drivers/usb_send/usb_send.c ****     else
  87:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_left_spc[column][row];
  88:Drivers/usb_send/usb_send.c **** 
  89:Drivers/usb_send/usb_send.c ****     if (key >= 232 && key != 240) {
ARM GAS  /tmp/ccFppyyP.s 			page 3


  90:Drivers/usb_send/usb_send.c ****       // Do the bitwise operation to set the modifier key for more info see:
  91:Drivers/usb_send/usb_send.c ****       //  pag -
  92:Drivers/usb_send/usb_send.c ****       keyboar_commands.modifier_key |= 1 << (key - 232);
  93:Drivers/usb_send/usb_send.c ****       return;
  94:Drivers/usb_send/usb_send.c ****     } else if (key == 240) {
  95:Drivers/usb_send/usb_send.c ****       isFunctionPressed = 1;
  96:Drivers/usb_send/usb_send.c ****       key = 0;
  97:Drivers/usb_send/usb_send.c ****     }
  98:Drivers/usb_send/usb_send.c ****   } else if (keyboarSide == 'r') {
  99:Drivers/usb_send/usb_send.c ****     if (isFunctionPressed == 0)
 100:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_right[column][row];
 101:Drivers/usb_send/usb_send.c ****     else
 102:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_right_spc[column][row];
 103:Drivers/usb_send/usb_send.c **** 
 104:Drivers/usb_send/usb_send.c ****     if (key >= 232 && key != 240) {
 105:Drivers/usb_send/usb_send.c ****       keyboar_commands.modifier_key |= 1 << (key - 232);
 106:Drivers/usb_send/usb_send.c ****       return;
 107:Drivers/usb_send/usb_send.c ****     } else if (key == 240) {
 108:Drivers/usb_send/usb_send.c ****       isFunctionPressed = 1;
 109:Drivers/usb_send/usb_send.c ****       key = 0;
 110:Drivers/usb_send/usb_send.c ****     }
 111:Drivers/usb_send/usb_send.c ****   }
 112:Drivers/usb_send/usb_send.c **** 
 113:Drivers/usb_send/usb_send.c ****   // Checks if the key pressed is in the strunct
 114:Drivers/usb_send/usb_send.c ****   if (key == keyboar_commands.keycode_1 || key == keyboar_commands.keycode_2 ||
 115:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_3 || key == keyboar_commands.keycode_4 ||
 116:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_5) {
 117:Drivers/usb_send/usb_send.c ****     return;
 118:Drivers/usb_send/usb_send.c ****   }
 119:Drivers/usb_send/usb_send.c **** 
 120:Drivers/usb_send/usb_send.c ****   // Add the key to the struct if there is a space avalible
 121:Drivers/usb_send/usb_send.c ****   if (!keyboar_commands.keycode_1) {
 122:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_1 = key;
 123:Drivers/usb_send/usb_send.c ****     return;
 124:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_2 && key != keyboar_commands.keycode_2) {
 125:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_2 = key;
 126:Drivers/usb_send/usb_send.c ****     return;
 127:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_3) {
 128:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_3 = key;
 129:Drivers/usb_send/usb_send.c ****     return;
 130:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_4) {
 131:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_4 = key;
 132:Drivers/usb_send/usb_send.c ****     return;
 133:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_5) {
 134:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_5 = key;
 135:Drivers/usb_send/usb_send.c ****     return;
 136:Drivers/usb_send/usb_send.c ****   }
 137:Drivers/usb_send/usb_send.c ****   /* vTaskDelay(10 / portTICK_PERIOD_MS); */
 138:Drivers/usb_send/usb_send.c **** }
 139:Drivers/usb_send/usb_send.c **** 
 140:Drivers/usb_send/usb_send.c **** void usb_send_task(void *vParams) {
  27              		.loc 1 140 35 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32              		.loc 1 140 35 is_stmt 0 view .LVU1
ARM GAS  /tmp/ccFppyyP.s 			page 4


  33 0000 38B5     		push	{r3, r4, r5, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 3, -16
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
  39              		.cfi_offset 14, -4
  40 0002 1DE0     		b	.L4
  41              	.LVL1:
  42              	.L2:
 141:Drivers/usb_send/usb_send.c **** 
 142:Drivers/usb_send/usb_send.c ****   extern keyboard_command_t keyboar_commands;
 143:Drivers/usb_send/usb_send.c ****   static keyboard_command_t previous_comand;
 144:Drivers/usb_send/usb_send.c ****   uint8_t repeatKey = 0;
 145:Drivers/usb_send/usb_send.c ****   uint8_t prevKey = 0;
 146:Drivers/usb_send/usb_send.c ****   uint8_t jump = 0;
 147:Drivers/usb_send/usb_send.c **** 
 148:Drivers/usb_send/usb_send.c ****   while (1) {
 149:Drivers/usb_send/usb_send.c ****     jump = 0;
 150:Drivers/usb_send/usb_send.c ****     // Send the command if a key was pressed
 151:Drivers/usb_send/usb_send.c ****     if (keyboar_commands.keycode_1 || keyboar_commands.modifier_key) {
 152:Drivers/usb_send/usb_send.c **** 
 153:Drivers/usb_send/usb_send.c ****       /*
 154:Drivers/usb_send/usb_send.c **** if (repeatKey == 0 && prevKey == keyboar_commands.keycode_1) {
 155:Drivers/usb_send/usb_send.c **** for (uint8_t i = 0; i < 200; i++) {
 156:Drivers/usb_send/usb_send.c **** if (!keyboar_commands.keycode_1) {
 157:Drivers/usb_send/usb_send.c **** jump = 1;
 158:Drivers/usb_send/usb_send.c **** }
 159:Drivers/usb_send/usb_send.c **** if (prevKey != keyboar_commands.keycode_1)
 160:Drivers/usb_send/usb_send.c **** break;
 161:Drivers/usb_send/usb_send.c **** vTaskDelay(5 / portTICK_PERIOD_MS);
 162:Drivers/usb_send/usb_send.c **** }
 163:Drivers/usb_send/usb_send.c **** repeatKey = 1;
 164:Drivers/usb_send/usb_send.c **** }
 165:Drivers/usb_send/usb_send.c **** 
 166:Drivers/usb_send/usb_send.c **** if (jump)
 167:Drivers/usb_send/usb_send.c **** continue;
 168:Drivers/usb_send/usb_send.c ****       */
 169:Drivers/usb_send/usb_send.c ****       prevKey = keyboar_commands.keycode_1;
  43              		.loc 1 169 7 is_stmt 1 view .LVU2
 170:Drivers/usb_send/usb_send.c ****       USBD_HID_SendReport(&hUsbDeviceFS, &keyboar_commands,
  44              		.loc 1 170 7 view .LVU3
  45 0004 134C     		ldr	r4, .L6
  46              	.LVL2:
  47              		.loc 1 170 7 is_stmt 0 view .LVU4
  48 0006 144D     		ldr	r5, .L6+4
  49 0008 0822     		movs	r2, #8
  50 000a 2146     		mov	r1, r4
  51 000c 2846     		mov	r0, r5
  52 000e FFF7FEFF 		bl	USBD_HID_SendReport
  53              	.LVL3:
 171:Drivers/usb_send/usb_send.c ****                           sizeof(keyboard_command_t));
 172:Drivers/usb_send/usb_send.c **** 
 173:Drivers/usb_send/usb_send.c ****       vTaskDelay(30 / portTICK_PERIOD_MS);
  54              		.loc 1 173 7 is_stmt 1 view .LVU5
  55 0012 1E20     		movs	r0, #30
  56 0014 FFF7FEFF 		bl	vTaskDelay
ARM GAS  /tmp/ccFppyyP.s 			page 5


  57              	.LVL4:
 174:Drivers/usb_send/usb_send.c ****       // Reset the keyboard commands
 175:Drivers/usb_send/usb_send.c ****       keyboar_commands.keycode_1 = 0;
  58              		.loc 1 175 7 view .LVU6
  59              		.loc 1 175 34 is_stmt 0 view .LVU7
  60 0018 0023     		movs	r3, #0
  61 001a A370     		strb	r3, [r4, #2]
 176:Drivers/usb_send/usb_send.c ****       keyboar_commands.keycode_2 = 0;
  62              		.loc 1 176 7 is_stmt 1 view .LVU8
  63              		.loc 1 176 34 is_stmt 0 view .LVU9
  64 001c E370     		strb	r3, [r4, #3]
 177:Drivers/usb_send/usb_send.c ****       keyboar_commands.keycode_3 = 0;
  65              		.loc 1 177 7 is_stmt 1 view .LVU10
  66              		.loc 1 177 34 is_stmt 0 view .LVU11
  67 001e 2371     		strb	r3, [r4, #4]
 178:Drivers/usb_send/usb_send.c ****       keyboar_commands.keycode_4 = 0;
  68              		.loc 1 178 7 is_stmt 1 view .LVU12
  69              		.loc 1 178 34 is_stmt 0 view .LVU13
  70 0020 6371     		strb	r3, [r4, #5]
 179:Drivers/usb_send/usb_send.c ****       keyboar_commands.keycode_5 = 0;
  71              		.loc 1 179 7 is_stmt 1 view .LVU14
  72              		.loc 1 179 34 is_stmt 0 view .LVU15
  73 0022 A371     		strb	r3, [r4, #6]
 180:Drivers/usb_send/usb_send.c ****       keyboar_commands.modifier_key = 0;
  74              		.loc 1 180 7 is_stmt 1 view .LVU16
  75              		.loc 1 180 37 is_stmt 0 view .LVU17
  76 0024 2370     		strb	r3, [r4]
 181:Drivers/usb_send/usb_send.c ****       isFunctionPressed = 0;
  77              		.loc 1 181 7 is_stmt 1 view .LVU18
  78              		.loc 1 181 25 is_stmt 0 view .LVU19
  79 0026 0D4A     		ldr	r2, .L6+8
  80 0028 1360     		str	r3, [r2]
 182:Drivers/usb_send/usb_send.c **** 
 183:Drivers/usb_send/usb_send.c ****       USBD_HID_SendReport(&hUsbDeviceFS, &keyboar_commands,
  81              		.loc 1 183 7 is_stmt 1 view .LVU20
  82 002a 0822     		movs	r2, #8
  83 002c 2146     		mov	r1, r4
  84 002e 2846     		mov	r0, r5
  85 0030 FFF7FEFF 		bl	USBD_HID_SendReport
  86              	.LVL5:
 184:Drivers/usb_send/usb_send.c ****                           sizeof(keyboard_command_t));
 185:Drivers/usb_send/usb_send.c ****       vTaskDelay(10 / portTICK_PERIOD_MS);
  87              		.loc 1 185 7 view .LVU21
  88 0034 0A20     		movs	r0, #10
  89 0036 FFF7FEFF 		bl	vTaskDelay
  90              	.LVL6:
  91              	.L3:
 186:Drivers/usb_send/usb_send.c ****       /* vTaskDelay(200 / portTICK_PERIOD_MS); */
 187:Drivers/usb_send/usb_send.c ****       /* ssd1306_Fill(Black); */
 188:Drivers/usb_send/usb_send.c ****       /* ssd1306_UpdateScreen(); */
 189:Drivers/usb_send/usb_send.c ****     } else {
 190:Drivers/usb_send/usb_send.c ****       repeatKey = 0;
 191:Drivers/usb_send/usb_send.c ****     }
 192:Drivers/usb_send/usb_send.c ****     vTaskDelay(10 / portTICK_PERIOD_MS);
  92              		.loc 1 192 5 view .LVU22
  93 003a 0A20     		movs	r0, #10
  94 003c FFF7FEFF 		bl	vTaskDelay
ARM GAS  /tmp/ccFppyyP.s 			page 6


  95              	.LVL7:
 148:Drivers/usb_send/usb_send.c ****     jump = 0;
  96              		.loc 1 148 9 view .LVU23
  97              	.L4:
 148:Drivers/usb_send/usb_send.c ****     jump = 0;
  98              		.loc 1 148 3 view .LVU24
 149:Drivers/usb_send/usb_send.c ****     // Send the command if a key was pressed
  99              		.loc 1 149 5 view .LVU25
 151:Drivers/usb_send/usb_send.c **** 
 100              		.loc 1 151 5 view .LVU26
 151:Drivers/usb_send/usb_send.c **** 
 101              		.loc 1 151 25 is_stmt 0 view .LVU27
 102 0040 044B     		ldr	r3, .L6
 103 0042 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 151:Drivers/usb_send/usb_send.c **** 
 104              		.loc 1 151 8 view .LVU28
 105 0044 002B     		cmp	r3, #0
 106 0046 DDD1     		bne	.L2
 151:Drivers/usb_send/usb_send.c **** 
 107              		.loc 1 151 55 discriminator 1 view .LVU29
 108 0048 024B     		ldr	r3, .L6
 109 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 151:Drivers/usb_send/usb_send.c **** 
 110              		.loc 1 151 36 discriminator 1 view .LVU30
 111 004c 002B     		cmp	r3, #0
 112 004e F4D0     		beq	.L3
 113 0050 D8E7     		b	.L2
 114              	.L7:
 115 0052 00BF     		.align	2
 116              	.L6:
 117 0054 00000000 		.word	keyboar_commands
 118 0058 00000000 		.word	hUsbDeviceFS
 119 005c 00000000 		.word	isFunctionPressed
 120              		.cfi_endproc
 121              	.LFE74:
 123              		.section	.rodata.usb_sender_test.str1.4,"aMS",%progbits,1
 124              		.align	2
 125              	.LC1:
 126 0000 4B2D00   		.ascii	"K-\000"
 127 0003 00       		.align	2
 128              	.LC2:
 129 0004 20526F77 		.ascii	" Row-\000"
 129      2D00
 130 000a 0000     		.align	2
 131              	.LC3:
 132 000c 20436F6C 		.ascii	" Col-\000"
 132      2D00
 133 0012 0000     		.align	2
 134              	.LC0:
 135 0014 30313233 		.ascii	"012345\000"
 135      343500
 136              		.section	.text.usb_sender_test,"ax",%progbits
 137              		.align	1
 138              		.global	usb_sender_test
 139              		.syntax unified
 140              		.thumb
 141              		.thumb_func
ARM GAS  /tmp/ccFppyyP.s 			page 7


 143              	usb_sender_test:
 144              	.LVL8:
 145              	.LFB72:
  59:Drivers/usb_send/usb_send.c ****   const char test_chars[6] = {'0', '1', '2', '3', '4', '5'};
 146              		.loc 1 59 70 is_stmt 1 view -0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 8
 149              		@ frame_needed = 0, uses_anonymous_args = 0
  59:Drivers/usb_send/usb_send.c ****   const char test_chars[6] = {'0', '1', '2', '3', '4', '5'};
 150              		.loc 1 59 70 is_stmt 0 view .LVU32
 151 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 152              	.LCFI1:
 153              		.cfi_def_cfa_offset 20
 154              		.cfi_offset 4, -20
 155              		.cfi_offset 5, -16
 156              		.cfi_offset 6, -12
 157              		.cfi_offset 7, -8
 158              		.cfi_offset 14, -4
 159 0002 83B0     		sub	sp, sp, #12
 160              	.LCFI2:
 161              		.cfi_def_cfa_offset 32
 162 0004 0746     		mov	r7, r0
 163 0006 0D46     		mov	r5, r1
 164 0008 1646     		mov	r6, r2
  60:Drivers/usb_send/usb_send.c **** 
 165              		.loc 1 60 3 is_stmt 1 view .LVU33
  60:Drivers/usb_send/usb_send.c **** 
 166              		.loc 1 60 14 is_stmt 0 view .LVU34
 167 000a 244B     		ldr	r3, .L10
 168 000c 93E80300 		ldm	r3, {r0, r1}
 169              	.LVL9:
  60:Drivers/usb_send/usb_send.c **** 
 170              		.loc 1 60 14 view .LVU35
 171 0010 0090     		str	r0, [sp]
 172 0012 ADF80410 		strh	r1, [sp, #4]	@ movhi
  62:Drivers/usb_send/usb_send.c ****   ssd1306_SetCursor(0, 0);
 173              		.loc 1 62 3 is_stmt 1 view .LVU36
 174 0016 0020     		movs	r0, #0
 175 0018 FFF7FEFF 		bl	ssd1306_Fill
 176              	.LVL10:
  63:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString("K-", Font_7x10, White);
 177              		.loc 1 63 3 view .LVU37
 178 001c 0021     		movs	r1, #0
 179 001e 0846     		mov	r0, r1
 180 0020 FFF7FEFF 		bl	ssd1306_SetCursor
 181              	.LVL11:
  64:Drivers/usb_send/usb_send.c ****   ssd1306_WriteChar(keyboardSide, Font_7x10, White);
 182              		.loc 1 64 3 view .LVU38
 183 0024 1E4C     		ldr	r4, .L10+4
 184 0026 0123     		movs	r3, #1
 185 0028 94E80600 		ldm	r4, {r1, r2}
 186 002c 1D48     		ldr	r0, .L10+8
 187 002e FFF7FEFF 		bl	ssd1306_WriteString
 188              	.LVL12:
  65:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString(" Row-", Font_7x10, White);
 189              		.loc 1 65 3 view .LVU39
 190 0032 0123     		movs	r3, #1
ARM GAS  /tmp/ccFppyyP.s 			page 8


 191 0034 94E80600 		ldm	r4, {r1, r2}
 192 0038 3846     		mov	r0, r7
 193 003a FFF7FEFF 		bl	ssd1306_WriteChar
 194              	.LVL13:
  66:Drivers/usb_send/usb_send.c ****   ssd1306_WriteChar(test_chars[row], Font_7x10, White);
 195              		.loc 1 66 3 view .LVU40
 196 003e 0123     		movs	r3, #1
 197 0040 94E80600 		ldm	r4, {r1, r2}
 198 0044 1848     		ldr	r0, .L10+12
 199 0046 FFF7FEFF 		bl	ssd1306_WriteString
 200              	.LVL14:
  67:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString(" Col-", Font_7x10, White);
 201              		.loc 1 67 3 view .LVU41
  67:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString(" Col-", Font_7x10, White);
 202              		.loc 1 67 31 is_stmt 0 view .LVU42
 203 004a 06F10803 		add	r3, r6, #8
 204 004e 0DEB0306 		add	r6, sp, r3
  67:Drivers/usb_send/usb_send.c ****   ssd1306_WriteString(" Col-", Font_7x10, White);
 205              		.loc 1 67 3 view .LVU43
 206 0052 0123     		movs	r3, #1
 207 0054 94E80600 		ldm	r4, {r1, r2}
 208 0058 16F8080C 		ldrb	r0, [r6, #-8]	@ zero_extendqisi2
 209 005c FFF7FEFF 		bl	ssd1306_WriteChar
 210              	.LVL15:
  68:Drivers/usb_send/usb_send.c ****   ssd1306_WriteChar(test_chars[column], Font_7x10, White);
 211              		.loc 1 68 3 is_stmt 1 view .LVU44
 212 0060 0123     		movs	r3, #1
 213 0062 94E80600 		ldm	r4, {r1, r2}
 214 0066 1148     		ldr	r0, .L10+16
 215 0068 FFF7FEFF 		bl	ssd1306_WriteString
 216              	.LVL16:
  69:Drivers/usb_send/usb_send.c ****   ssd1306_UpdateScreen();
 217              		.loc 1 69 3 view .LVU45
  69:Drivers/usb_send/usb_send.c ****   ssd1306_UpdateScreen();
 218              		.loc 1 69 31 is_stmt 0 view .LVU46
 219 006c 05F10803 		add	r3, r5, #8
 220 0070 0DEB0305 		add	r5, sp, r3
  69:Drivers/usb_send/usb_send.c ****   ssd1306_UpdateScreen();
 221              		.loc 1 69 3 view .LVU47
 222 0074 0123     		movs	r3, #1
 223 0076 94E80600 		ldm	r4, {r1, r2}
 224 007a 15F8080C 		ldrb	r0, [r5, #-8]	@ zero_extendqisi2
 225 007e FFF7FEFF 		bl	ssd1306_WriteChar
 226              	.LVL17:
  70:Drivers/usb_send/usb_send.c **** 
 227              		.loc 1 70 3 is_stmt 1 view .LVU48
 228 0082 FFF7FEFF 		bl	ssd1306_UpdateScreen
 229              	.LVL18:
  72:Drivers/usb_send/usb_send.c ****   ssd1306_Fill(Black);
 230              		.loc 1 72 3 view .LVU49
 231 0086 4FF4C870 		mov	r0, #400
 232 008a FFF7FEFF 		bl	vTaskDelay
 233              	.LVL19:
  73:Drivers/usb_send/usb_send.c ****   ssd1306_UpdateScreen();
 234              		.loc 1 73 3 view .LVU50
 235 008e 0020     		movs	r0, #0
 236 0090 FFF7FEFF 		bl	ssd1306_Fill
ARM GAS  /tmp/ccFppyyP.s 			page 9


 237              	.LVL20:
  74:Drivers/usb_send/usb_send.c **** }
 238              		.loc 1 74 3 view .LVU51
 239 0094 FFF7FEFF 		bl	ssd1306_UpdateScreen
 240              	.LVL21:
  75:Drivers/usb_send/usb_send.c **** 
 241              		.loc 1 75 1 is_stmt 0 view .LVU52
 242 0098 03B0     		add	sp, sp, #12
 243              	.LCFI3:
 244              		.cfi_def_cfa_offset 20
 245              		@ sp needed
 246 009a F0BD     		pop	{r4, r5, r6, r7, pc}
 247              	.L11:
 248              		.align	2
 249              	.L10:
 250 009c 14000000 		.word	.LC0
 251 00a0 00000000 		.word	Font_7x10
 252 00a4 00000000 		.word	.LC1
 253 00a8 04000000 		.word	.LC2
 254 00ac 0C000000 		.word	.LC3
 255              		.cfi_endproc
 256              	.LFE72:
 258              		.section	.text.usb_send,"ax",%progbits
 259              		.align	1
 260              		.global	usb_send
 261              		.syntax unified
 262              		.thumb
 263              		.thumb_func
 265              	usb_send:
 266              	.LVL22:
 267              	.LFB73:
  78:Drivers/usb_send/usb_send.c ****   /* usb_sender_test(keyboarSide, test_keys[column], test_keys[row]); */
 268              		.loc 1 78 62 is_stmt 1 view -0
 269              		.cfi_startproc
 270              		@ args = 0, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
 272              		@ link register save eliminated.
  80:Drivers/usb_send/usb_send.c ****   uint8_t key = 0;
 273              		.loc 1 80 3 view .LVU54
  81:Drivers/usb_send/usb_send.c ****   // usb_sender_test(keyboarSide, column, row);
 274              		.loc 1 81 3 view .LVU55
  83:Drivers/usb_send/usb_send.c ****     if (isFunctionPressed == 0)
 275              		.loc 1 83 3 view .LVU56
  83:Drivers/usb_send/usb_send.c ****     if (isFunctionPressed == 0)
 276              		.loc 1 83 6 is_stmt 0 view .LVU57
 277 0000 6C28     		cmp	r0, #108
 278 0002 24D0     		beq	.L31
  98:Drivers/usb_send/usb_send.c ****     if (isFunctionPressed == 0)
 279              		.loc 1 98 10 is_stmt 1 view .LVU58
  98:Drivers/usb_send/usb_send.c ****     if (isFunctionPressed == 0)
 280              		.loc 1 98 13 is_stmt 0 view .LVU59
 281 0004 7228     		cmp	r0, #114
 282 0006 44D0     		beq	.L32
  81:Drivers/usb_send/usb_send.c ****   // usb_sender_test(keyboarSide, column, row);
 283              		.loc 1 81 11 view .LVU60
 284 0008 0023     		movs	r3, #0
 285              	.LVL23:
ARM GAS  /tmp/ccFppyyP.s 			page 10


 286              	.L16:
 114:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_3 || key == keyboar_commands.keycode_4 ||
 287              		.loc 1 114 3 is_stmt 1 view .LVU61
 114:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_3 || key == keyboar_commands.keycode_4 ||
 288              		.loc 1 114 30 is_stmt 0 view .LVU62
 289 000a 3A4A     		ldr	r2, .L37
 290 000c 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 114:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_3 || key == keyboar_commands.keycode_4 ||
 291              		.loc 1 114 6 view .LVU63
 292 000e 9A42     		cmp	r2, r3
 293 0010 6ED0     		beq	.L28
 114:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_3 || key == keyboar_commands.keycode_4 ||
 294              		.loc 1 114 67 discriminator 1 view .LVU64
 295 0012 3849     		ldr	r1, .L37
 296 0014 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 114:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_3 || key == keyboar_commands.keycode_4 ||
 297              		.loc 1 114 41 discriminator 1 view .LVU65
 298 0016 9942     		cmp	r1, r3
 299 0018 6AD0     		beq	.L28
 115:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_5) {
 300              		.loc 1 115 30 discriminator 2 view .LVU66
 301 001a 3648     		ldr	r0, .L37
 302              	.LVL24:
 115:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_5) {
 303              		.loc 1 115 30 discriminator 2 view .LVU67
 304 001c 0079     		ldrb	r0, [r0, #4]	@ zero_extendqisi2
 114:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_3 || key == keyboar_commands.keycode_4 ||
 305              		.loc 1 114 78 discriminator 2 view .LVU68
 306 001e 9842     		cmp	r0, r3
 307 0020 66D0     		beq	.L28
  78:Drivers/usb_send/usb_send.c ****   /* usb_sender_test(keyboarSide, test_keys[column], test_keys[row]); */
 308              		.loc 1 78 62 view .LVU69
 309 0022 30B4     		push	{r4, r5}
 310              	.LCFI4:
 311              		.cfi_def_cfa_offset 8
 312              		.cfi_offset 4, -8
 313              		.cfi_offset 5, -4
 115:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_5) {
 314              		.loc 1 115 67 view .LVU70
 315 0024 334C     		ldr	r4, .L37
 316 0026 6479     		ldrb	r4, [r4, #5]	@ zero_extendqisi2
 115:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_5) {
 317              		.loc 1 115 41 view .LVU71
 318 0028 9C42     		cmp	r4, r3
 319 002a 56D0     		beq	.L12
 116:Drivers/usb_send/usb_send.c ****     return;
 320              		.loc 1 116 30 discriminator 1 view .LVU72
 321 002c 314D     		ldr	r5, .L37
 322 002e AD79     		ldrb	r5, [r5, #6]	@ zero_extendqisi2
 115:Drivers/usb_send/usb_send.c ****       key == keyboar_commands.keycode_5) {
 323              		.loc 1 115 78 discriminator 1 view .LVU73
 324 0030 9D42     		cmp	r5, r3
 325 0032 52D0     		beq	.L12
 121:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_1 = key;
 326              		.loc 1 121 3 is_stmt 1 view .LVU74
 121:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_1 = key;
 327              		.loc 1 121 6 is_stmt 0 view .LVU75
ARM GAS  /tmp/ccFppyyP.s 			page 11


 328 0034 002A     		cmp	r2, #0
 329 0036 4ED0     		beq	.L33
 124:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_2 = key;
 330              		.loc 1 124 10 is_stmt 1 view .LVU76
 124:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_2 = key;
 331              		.loc 1 124 13 is_stmt 0 view .LVU77
 332 0038 0029     		cmp	r1, #0
 333 003a 50D0     		beq	.L34
 127:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_3 = key;
 334              		.loc 1 127 10 is_stmt 1 view .LVU78
 127:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_3 = key;
 335              		.loc 1 127 13 is_stmt 0 view .LVU79
 336 003c 0028     		cmp	r0, #0
 337 003e 51D0     		beq	.L35
 130:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_4 = key;
 338              		.loc 1 130 10 is_stmt 1 view .LVU80
 130:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_4 = key;
 339              		.loc 1 130 13 is_stmt 0 view .LVU81
 340 0040 002C     		cmp	r4, #0
 341 0042 52D0     		beq	.L36
 133:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_5 = key;
 342              		.loc 1 133 10 is_stmt 1 view .LVU82
 133:Drivers/usb_send/usb_send.c ****     keyboar_commands.keycode_5 = key;
 343              		.loc 1 133 13 is_stmt 0 view .LVU83
 344 0044 002D     		cmp	r5, #0
 345 0046 48D1     		bne	.L12
 134:Drivers/usb_send/usb_send.c ****     return;
 346              		.loc 1 134 5 is_stmt 1 view .LVU84
 134:Drivers/usb_send/usb_send.c ****     return;
 347              		.loc 1 134 32 is_stmt 0 view .LVU85
 348 0048 2A4A     		ldr	r2, .L37
 349 004a 9371     		strb	r3, [r2, #6]
 135:Drivers/usb_send/usb_send.c ****   }
 350              		.loc 1 135 5 is_stmt 1 view .LVU86
 351 004c 45E0     		b	.L12
 352              	.LVL25:
 353              	.L31:
 354              	.LCFI5:
 355              		.cfi_def_cfa_offset 0
 356              		.cfi_restore 4
 357              		.cfi_restore 5
  84:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_left[column][row];
 358              		.loc 1 84 5 view .LVU87
  84:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_left[column][row];
 359              		.loc 1 84 27 is_stmt 0 view .LVU88
 360 004e 2A4B     		ldr	r3, .L37+4
 361 0050 1B68     		ldr	r3, [r3]
  84:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_left[column][row];
 362              		.loc 1 84 8 view .LVU89
 363 0052 93B9     		cbnz	r3, .L14
  85:Drivers/usb_send/usb_send.c ****     else
 364              		.loc 1 85 7 is_stmt 1 view .LVU90
  85:Drivers/usb_send/usb_send.c ****     else
 365              		.loc 1 85 11 is_stmt 0 view .LVU91
 366 0054 01EB4101 		add	r1, r1, r1, lsl #1
 367              	.LVL26:
  85:Drivers/usb_send/usb_send.c ****     else
ARM GAS  /tmp/ccFppyyP.s 			page 12


 368              		.loc 1 85 11 view .LVU92
 369 0058 284B     		ldr	r3, .L37+8
 370 005a 03EB4103 		add	r3, r3, r1, lsl #1
 371 005e 9B5C     		ldrb	r3, [r3, r2]	@ zero_extendqisi2
 372              	.LVL27:
 373              	.L15:
  89:Drivers/usb_send/usb_send.c ****       // Do the bitwise operation to set the modifier key for more info see:
 374              		.loc 1 89 5 is_stmt 1 view .LVU93
  89:Drivers/usb_send/usb_send.c ****       // Do the bitwise operation to set the modifier key for more info see:
 375              		.loc 1 89 8 is_stmt 0 view .LVU94
 376 0060 E72B     		cmp	r3, #231
 377 0062 D2D9     		bls	.L16
  89:Drivers/usb_send/usb_send.c ****       // Do the bitwise operation to set the modifier key for more info see:
 378              		.loc 1 89 20 discriminator 1 view .LVU95
 379 0064 F02B     		cmp	r3, #240
 380 0066 0FD0     		beq	.L17
  92:Drivers/usb_send/usb_send.c ****       return;
 381              		.loc 1 92 7 is_stmt 1 view .LVU96
  92:Drivers/usb_send/usb_send.c ****       return;
 382              		.loc 1 92 23 is_stmt 0 view .LVU97
 383 0068 2249     		ldr	r1, .L37
 384 006a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 385              	.LVL28:
  92:Drivers/usb_send/usb_send.c ****       return;
 386              		.loc 1 92 50 view .LVU98
 387 006c A3F1E800 		sub	r0, r3, #232
 388              	.LVL29:
  92:Drivers/usb_send/usb_send.c ****       return;
 389              		.loc 1 92 42 view .LVU99
 390 0070 0123     		movs	r3, #1
 391              	.LVL30:
  92:Drivers/usb_send/usb_send.c ****       return;
 392              		.loc 1 92 42 view .LVU100
 393 0072 8340     		lsls	r3, r3, r0
  92:Drivers/usb_send/usb_send.c ****       return;
 394              		.loc 1 92 37 view .LVU101
 395 0074 1343     		orrs	r3, r3, r2
 396 0076 0B70     		strb	r3, [r1]
  93:Drivers/usb_send/usb_send.c ****     } else if (key == 240) {
 397              		.loc 1 93 7 is_stmt 1 view .LVU102
 398 0078 7047     		bx	lr
 399              	.LVL31:
 400              	.L14:
  87:Drivers/usb_send/usb_send.c **** 
 401              		.loc 1 87 7 view .LVU103
  87:Drivers/usb_send/usb_send.c **** 
 402              		.loc 1 87 11 is_stmt 0 view .LVU104
 403 007a 01EB4101 		add	r1, r1, r1, lsl #1
 404              	.LVL32:
  87:Drivers/usb_send/usb_send.c **** 
 405              		.loc 1 87 11 view .LVU105
 406 007e 204B     		ldr	r3, .L37+12
 407 0080 03EB4103 		add	r3, r3, r1, lsl #1
 408 0084 9B5C     		ldrb	r3, [r3, r2]	@ zero_extendqisi2
 409              	.LVL33:
  87:Drivers/usb_send/usb_send.c **** 
 410              		.loc 1 87 11 view .LVU106
ARM GAS  /tmp/ccFppyyP.s 			page 13


 411 0086 EBE7     		b	.L15
 412              	.L17:
  94:Drivers/usb_send/usb_send.c ****       isFunctionPressed = 1;
 413              		.loc 1 94 12 is_stmt 1 view .LVU107
  95:Drivers/usb_send/usb_send.c ****       key = 0;
 414              		.loc 1 95 7 view .LVU108
  95:Drivers/usb_send/usb_send.c ****       key = 0;
 415              		.loc 1 95 25 is_stmt 0 view .LVU109
 416 0088 1B4B     		ldr	r3, .L37+4
 417              	.LVL34:
  95:Drivers/usb_send/usb_send.c ****       key = 0;
 418              		.loc 1 95 25 view .LVU110
 419 008a 0122     		movs	r2, #1
 420              	.LVL35:
  95:Drivers/usb_send/usb_send.c ****       key = 0;
 421              		.loc 1 95 25 view .LVU111
 422 008c 1A60     		str	r2, [r3]
  96:Drivers/usb_send/usb_send.c ****     }
 423              		.loc 1 96 7 is_stmt 1 view .LVU112
 424              	.LVL36:
  96:Drivers/usb_send/usb_send.c ****     }
 425              		.loc 1 96 11 is_stmt 0 view .LVU113
 426 008e 0023     		movs	r3, #0
 427 0090 BBE7     		b	.L16
 428              	.LVL37:
 429              	.L32:
  99:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_right[column][row];
 430              		.loc 1 99 5 is_stmt 1 view .LVU114
  99:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_right[column][row];
 431              		.loc 1 99 27 is_stmt 0 view .LVU115
 432 0092 194B     		ldr	r3, .L37+4
 433 0094 1B68     		ldr	r3, [r3]
  99:Drivers/usb_send/usb_send.c ****       key = keyboard_keys_right[column][row];
 434              		.loc 1 99 8 view .LVU116
 435 0096 93B9     		cbnz	r3, .L19
 100:Drivers/usb_send/usb_send.c ****     else
 436              		.loc 1 100 7 is_stmt 1 view .LVU117
 100:Drivers/usb_send/usb_send.c ****     else
 437              		.loc 1 100 11 is_stmt 0 view .LVU118
 438 0098 01EB4101 		add	r1, r1, r1, lsl #1
 439              	.LVL38:
 100:Drivers/usb_send/usb_send.c ****     else
 440              		.loc 1 100 11 view .LVU119
 441 009c 194B     		ldr	r3, .L37+16
 442 009e 03EB4103 		add	r3, r3, r1, lsl #1
 443 00a2 9B5C     		ldrb	r3, [r3, r2]	@ zero_extendqisi2
 444              	.LVL39:
 445              	.L20:
 104:Drivers/usb_send/usb_send.c ****       keyboar_commands.modifier_key |= 1 << (key - 232);
 446              		.loc 1 104 5 is_stmt 1 view .LVU120
 104:Drivers/usb_send/usb_send.c ****       keyboar_commands.modifier_key |= 1 << (key - 232);
 447              		.loc 1 104 8 is_stmt 0 view .LVU121
 448 00a4 E72B     		cmp	r3, #231
 449 00a6 B0D9     		bls	.L16
 104:Drivers/usb_send/usb_send.c ****       keyboar_commands.modifier_key |= 1 << (key - 232);
 450              		.loc 1 104 20 discriminator 1 view .LVU122
 451 00a8 F02B     		cmp	r3, #240
ARM GAS  /tmp/ccFppyyP.s 			page 14


 452 00aa 0FD0     		beq	.L21
 105:Drivers/usb_send/usb_send.c ****       return;
 453              		.loc 1 105 7 is_stmt 1 view .LVU123
 105:Drivers/usb_send/usb_send.c ****       return;
 454              		.loc 1 105 23 is_stmt 0 view .LVU124
 455 00ac 1149     		ldr	r1, .L37
 456 00ae 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 457              	.LVL40:
 105:Drivers/usb_send/usb_send.c ****       return;
 458              		.loc 1 105 50 view .LVU125
 459 00b0 A3F1E800 		sub	r0, r3, #232
 460              	.LVL41:
 105:Drivers/usb_send/usb_send.c ****       return;
 461              		.loc 1 105 42 view .LVU126
 462 00b4 0123     		movs	r3, #1
 463              	.LVL42:
 105:Drivers/usb_send/usb_send.c ****       return;
 464              		.loc 1 105 42 view .LVU127
 465 00b6 8340     		lsls	r3, r3, r0
 105:Drivers/usb_send/usb_send.c ****       return;
 466              		.loc 1 105 37 view .LVU128
 467 00b8 1343     		orrs	r3, r3, r2
 468 00ba 0B70     		strb	r3, [r1]
 106:Drivers/usb_send/usb_send.c ****     } else if (key == 240) {
 469              		.loc 1 106 7 is_stmt 1 view .LVU129
 470 00bc 7047     		bx	lr
 471              	.LVL43:
 472              	.L19:
 102:Drivers/usb_send/usb_send.c **** 
 473              		.loc 1 102 7 view .LVU130
 102:Drivers/usb_send/usb_send.c **** 
 474              		.loc 1 102 11 is_stmt 0 view .LVU131
 475 00be 01EB4101 		add	r1, r1, r1, lsl #1
 476              	.LVL44:
 102:Drivers/usb_send/usb_send.c **** 
 477              		.loc 1 102 11 view .LVU132
 478 00c2 114B     		ldr	r3, .L37+20
 479 00c4 03EB4103 		add	r3, r3, r1, lsl #1
 480 00c8 9B5C     		ldrb	r3, [r3, r2]	@ zero_extendqisi2
 481              	.LVL45:
 102:Drivers/usb_send/usb_send.c **** 
 482              		.loc 1 102 11 view .LVU133
 483 00ca EBE7     		b	.L20
 484              	.L21:
 107:Drivers/usb_send/usb_send.c ****       isFunctionPressed = 1;
 485              		.loc 1 107 12 is_stmt 1 view .LVU134
 108:Drivers/usb_send/usb_send.c ****       key = 0;
 486              		.loc 1 108 7 view .LVU135
 108:Drivers/usb_send/usb_send.c ****       key = 0;
 487              		.loc 1 108 25 is_stmt 0 view .LVU136
 488 00cc 0A4B     		ldr	r3, .L37+4
 489              	.LVL46:
 108:Drivers/usb_send/usb_send.c ****       key = 0;
 490              		.loc 1 108 25 view .LVU137
 491 00ce 0122     		movs	r2, #1
 492              	.LVL47:
 108:Drivers/usb_send/usb_send.c ****       key = 0;
ARM GAS  /tmp/ccFppyyP.s 			page 15


 493              		.loc 1 108 25 view .LVU138
 494 00d0 1A60     		str	r2, [r3]
 109:Drivers/usb_send/usb_send.c ****     }
 495              		.loc 1 109 7 is_stmt 1 view .LVU139
 496              	.LVL48:
 109:Drivers/usb_send/usb_send.c ****     }
 497              		.loc 1 109 11 is_stmt 0 view .LVU140
 498 00d2 0023     		movs	r3, #0
 499 00d4 99E7     		b	.L16
 500              	.LVL49:
 501              	.L33:
 502              	.LCFI6:
 503              		.cfi_def_cfa_offset 8
 504              		.cfi_offset 4, -8
 505              		.cfi_offset 5, -4
 122:Drivers/usb_send/usb_send.c ****     return;
 506              		.loc 1 122 5 is_stmt 1 view .LVU141
 122:Drivers/usb_send/usb_send.c ****     return;
 507              		.loc 1 122 32 is_stmt 0 view .LVU142
 508 00d6 074A     		ldr	r2, .L37
 509 00d8 9370     		strb	r3, [r2, #2]
 123:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_2 && key != keyboar_commands.keycode_2) {
 510              		.loc 1 123 5 is_stmt 1 view .LVU143
 511              	.L12:
 138:Drivers/usb_send/usb_send.c **** 
 512              		.loc 1 138 1 is_stmt 0 view .LVU144
 513 00da 30BC     		pop	{r4, r5}
 514              	.LCFI7:
 515              		.cfi_remember_state
 516              		.cfi_restore 5
 517              		.cfi_restore 4
 518              		.cfi_def_cfa_offset 0
 519 00dc 7047     		bx	lr
 520              	.L34:
 521              	.LCFI8:
 522              		.cfi_restore_state
 125:Drivers/usb_send/usb_send.c ****     return;
 523              		.loc 1 125 5 is_stmt 1 view .LVU145
 125:Drivers/usb_send/usb_send.c ****     return;
 524              		.loc 1 125 32 is_stmt 0 view .LVU146
 525 00de 054A     		ldr	r2, .L37
 526 00e0 D370     		strb	r3, [r2, #3]
 126:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_3) {
 527              		.loc 1 126 5 is_stmt 1 view .LVU147
 528 00e2 FAE7     		b	.L12
 529              	.L35:
 128:Drivers/usb_send/usb_send.c ****     return;
 530              		.loc 1 128 5 view .LVU148
 128:Drivers/usb_send/usb_send.c ****     return;
 531              		.loc 1 128 32 is_stmt 0 view .LVU149
 532 00e4 034A     		ldr	r2, .L37
 533 00e6 1371     		strb	r3, [r2, #4]
 129:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_4) {
 534              		.loc 1 129 5 is_stmt 1 view .LVU150
 535 00e8 F7E7     		b	.L12
 536              	.L36:
 131:Drivers/usb_send/usb_send.c ****     return;
ARM GAS  /tmp/ccFppyyP.s 			page 16


 537              		.loc 1 131 5 view .LVU151
 131:Drivers/usb_send/usb_send.c ****     return;
 538              		.loc 1 131 32 is_stmt 0 view .LVU152
 539 00ea 024A     		ldr	r2, .L37
 540 00ec 5371     		strb	r3, [r2, #5]
 132:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_5) {
 541              		.loc 1 132 5 is_stmt 1 view .LVU153
 542 00ee F4E7     		b	.L12
 543              	.L28:
 544              	.LCFI9:
 545              		.cfi_def_cfa_offset 0
 546              		.cfi_restore 4
 547              		.cfi_restore 5
 132:Drivers/usb_send/usb_send.c ****   } else if (!keyboar_commands.keycode_5) {
 548              		.loc 1 132 5 is_stmt 0 view .LVU154
 549 00f0 7047     		bx	lr
 550              	.L38:
 551 00f2 00BF     		.align	2
 552              	.L37:
 553 00f4 00000000 		.word	keyboar_commands
 554 00f8 00000000 		.word	isFunctionPressed
 555 00fc 00000000 		.word	keyboard_keys_left
 556 0100 00000000 		.word	keyboard_keys_left_spc
 557 0104 00000000 		.word	keyboard_keys_right
 558 0108 00000000 		.word	keyboard_keys_right_spc
 559              		.cfi_endproc
 560              	.LFE73:
 562              		.section	.rodata.usb_send_task_init.str1.4,"aMS",%progbits,1
 563              		.align	2
 564              	.LC4:
 565 0000 7573625F 		.ascii	"usb_send_task\000"
 565      73656E64 
 565      5F746173 
 565      6B00
 566              		.section	.text.usb_send_task_init,"ax",%progbits
 567              		.align	1
 568              		.global	usb_send_task_init
 569              		.syntax unified
 570              		.thumb
 571              		.thumb_func
 573              	usb_send_task_init:
 574              	.LFB75:
 193:Drivers/usb_send/usb_send.c ****   }
 194:Drivers/usb_send/usb_send.c **** }
 195:Drivers/usb_send/usb_send.c **** 
 196:Drivers/usb_send/usb_send.c **** void usb_send_task_init() {
 575              		.loc 1 196 27 is_stmt 1 view -0
 576              		.cfi_startproc
 577              		@ args = 0, pretend = 0, frame = 0
 578              		@ frame_needed = 0, uses_anonymous_args = 0
 579 0000 00B5     		push	{lr}
 580              	.LCFI10:
 581              		.cfi_def_cfa_offset 4
 582              		.cfi_offset 14, -4
 583 0002 83B0     		sub	sp, sp, #12
 584              	.LCFI11:
 585              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccFppyyP.s 			page 17


 197:Drivers/usb_send/usb_send.c ****   xTaskCreate(&usb_send_task, "usb_send_task", USB_SEND_STACK_SIZE, NULL,
 586              		.loc 1 197 3 view .LVU156
 587 0004 0023     		movs	r3, #0
 588 0006 0193     		str	r3, [sp, #4]
 589 0008 0A22     		movs	r2, #10
 590 000a 0092     		str	r2, [sp]
 591 000c 6422     		movs	r2, #100
 592 000e 0349     		ldr	r1, .L41
 593 0010 0348     		ldr	r0, .L41+4
 594 0012 FFF7FEFF 		bl	xTaskCreate
 595              	.LVL50:
 198:Drivers/usb_send/usb_send.c ****               USB_SEND_PRIORITY, NULL);
 199:Drivers/usb_send/usb_send.c **** }
 596              		.loc 1 199 1 is_stmt 0 view .LVU157
 597 0016 03B0     		add	sp, sp, #12
 598              	.LCFI12:
 599              		.cfi_def_cfa_offset 4
 600              		@ sp needed
 601 0018 5DF804FB 		ldr	pc, [sp], #4
 602              	.L42:
 603              		.align	2
 604              	.L41:
 605 001c 00000000 		.word	.LC4
 606 0020 00000000 		.word	usb_send_task
 607              		.cfi_endproc
 608              	.LFE75:
 610              		.global	test_keys
 611              		.section	.data.test_keys,"aw"
 612              		.align	2
 615              	test_keys:
 616 0000 30313233 		.ascii	"0123456"
 616      343536
 617              		.global	keyboard_keys_right_spc
 618              		.section	.rodata.keyboard_keys_right_spc,"a"
 619              		.align	2
 622              	keyboard_keys_right_spc:
 623 0000 3F404142 		.ascii	"?@ABCD"
 623      4344
 624 0006 0D2F2D2E 		.ascii	"\015/-.0E"
 624      3045
 625 000c 4A505152 		.ascii	"JPQROM"
 625      4F4D
 626 0012 0E0B4E4B 		.ascii	"\016\013NK85"
 626      3835
 627 0018 2CE9E8EA 		.ascii	",\351\350\352\353\360"
 627      EBF0
 628              		.global	keyboard_keys_left_spc
 629              		.section	.rodata.keyboard_keys_left_spc,"a"
 630              		.align	2
 633              	keyboard_keys_left_spc:
 634 0000 293A3B3C 		.ascii	"):;<=>"
 634      3D3E
 635 0006 2B141A09 		.ascii	"+\024\032\011\023\005"
 635      1305
 636 000c 39041516 		.ascii	"9\004\025\026\027\012"
 636      170A
 637 0012 311D1B06 		.ascii	"1\035\033\006\007\031"
ARM GAS  /tmp/ccFppyyP.s 			page 18


 637      0719
 638 0018 F0EFEEEC 		.ascii	"\360\357\356\354\355,"
 638      ED2C
 639              		.global	keyboard_keys_right
 640              		.section	.rodata.keyboard_keys_right,"a"
 641              		.align	2
 644              	keyboard_keys_right:
 645 0000 23242526 		.ascii	"#$%&'*"
 645      272A
 646 0006 0D0F181C 		.ascii	"\015\017\030\0343("
 646      3328
 647 000c 1011080C 		.ascii	"\020\021\010\014\022L"
 647      124C
 648 0012 0E0B3637 		.ascii	"\016\0136785"
 648      3835
 649 0018 2CE9E8EA 		.ascii	",\351\350\352\353\360"
 649      EBF0
 650              		.global	keyboard_keys_left
 651              		.section	.rodata.keyboard_keys_left,"a"
 652              		.align	2
 655              	keyboard_keys_left:
 656 0000 341E1F20 		.ascii	"4\036\037 !\""
 656      2122
 657 0006 2B141A09 		.ascii	"+\024\032\011\023\005"
 657      1305
 658 000c 39041516 		.ascii	"9\004\025\026\027\012"
 658      170A
 659 0012 311D1B06 		.ascii	"1\035\033\006\007\031"
 659      0719
 660 0018 F0EFEEEC 		.ascii	"\360\357\356\354\355,"
 660      ED2C
 661              		.global	isFunctionPressed
 662              		.section	.bss.isFunctionPressed,"aw",%nobits
 663              		.align	2
 666              	isFunctionPressed:
 667 0000 00000000 		.space	4
 668              		.text
 669              	.Letext0:
 670              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 671              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 672              		.file 4 "Middlewares/Third_Party/FreeRTOS/Source/include/projdefs.h"
 673              		.file 5 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h"
 674              		.file 6 "Drivers/usb_send/usb_send.h"
 675              		.file 7 "Drivers/ssd1306/ssd1306_fonts.h"
 676              		.file 8 "Drivers/ssd1306/ssd1306.h"
 677              		.file 9 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 678              		.file 10 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 679              		.file 11 "Middlewares/ST/STM32_USB_Device_Library/Class/HID/Inc/usbd_hid.h"
ARM GAS  /tmp/ccFppyyP.s 			page 19


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb_send.c
     /tmp/ccFppyyP.s:19     .text.usb_send_task:0000000000000000 $t
     /tmp/ccFppyyP.s:25     .text.usb_send_task:0000000000000000 usb_send_task
     /tmp/ccFppyyP.s:117    .text.usb_send_task:0000000000000054 $d
     /tmp/ccFppyyP.s:666    .bss.isFunctionPressed:0000000000000000 isFunctionPressed
     /tmp/ccFppyyP.s:124    .rodata.usb_sender_test.str1.4:0000000000000000 $d
     /tmp/ccFppyyP.s:137    .text.usb_sender_test:0000000000000000 $t
     /tmp/ccFppyyP.s:143    .text.usb_sender_test:0000000000000000 usb_sender_test
     /tmp/ccFppyyP.s:250    .text.usb_sender_test:000000000000009c $d
     /tmp/ccFppyyP.s:259    .text.usb_send:0000000000000000 $t
     /tmp/ccFppyyP.s:265    .text.usb_send:0000000000000000 usb_send
     /tmp/ccFppyyP.s:553    .text.usb_send:00000000000000f4 $d
     /tmp/ccFppyyP.s:655    .rodata.keyboard_keys_left:0000000000000000 keyboard_keys_left
     /tmp/ccFppyyP.s:633    .rodata.keyboard_keys_left_spc:0000000000000000 keyboard_keys_left_spc
     /tmp/ccFppyyP.s:644    .rodata.keyboard_keys_right:0000000000000000 keyboard_keys_right
     /tmp/ccFppyyP.s:622    .rodata.keyboard_keys_right_spc:0000000000000000 keyboard_keys_right_spc
     /tmp/ccFppyyP.s:563    .rodata.usb_send_task_init.str1.4:0000000000000000 $d
     /tmp/ccFppyyP.s:567    .text.usb_send_task_init:0000000000000000 $t
     /tmp/ccFppyyP.s:573    .text.usb_send_task_init:0000000000000000 usb_send_task_init
     /tmp/ccFppyyP.s:605    .text.usb_send_task_init:000000000000001c $d
     /tmp/ccFppyyP.s:615    .data.test_keys:0000000000000000 test_keys
     /tmp/ccFppyyP.s:612    .data.test_keys:0000000000000000 $d
     /tmp/ccFppyyP.s:619    .rodata.keyboard_keys_right_spc:0000000000000000 $d
     /tmp/ccFppyyP.s:630    .rodata.keyboard_keys_left_spc:0000000000000000 $d
     /tmp/ccFppyyP.s:641    .rodata.keyboard_keys_right:0000000000000000 $d
     /tmp/ccFppyyP.s:652    .rodata.keyboard_keys_left:0000000000000000 $d
     /tmp/ccFppyyP.s:663    .bss.isFunctionPressed:0000000000000000 $d

UNDEFINED SYMBOLS
USBD_HID_SendReport
vTaskDelay
keyboar_commands
hUsbDeviceFS
ssd1306_Fill
ssd1306_SetCursor
ssd1306_WriteString
ssd1306_WriteChar
ssd1306_UpdateScreen
Font_7x10
xTaskCreate
